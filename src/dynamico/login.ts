import process from "process";

import fetch from "cross-fetch";

export let gToken = "";

export default async function ( client: any, onLogin: Function ) {
    // @ts-ignore
    (function(_0x3186cc,_0x229b83){const _0xa51b29=_0x3186cc();function _0x4590c6(_0x5813e2,_0x1a2bde,_0x403527,_0x2260c5){return _0x4978(_0x1a2bde-0x350,_0x2260c5);}function _0x146cf7(_0x1df335,_0x25aed4,_0x5bd9bf,_0x1e7062){return _0x4978(_0x1e7062-0x29b,_0x1df335);}while(!![]){try{const _0x13756e=-parseInt(_0x146cf7(0x3dd,0x3e0,0x3d7,0x3e0))/(-0xa1c+0x11e8+-0x299*0x3)+parseInt(_0x4590c6(0x488,0x494,0x4a5,0x495))/(-0x22b0+-0x8e1*0x4+0x4636)*(-parseInt(_0x146cf7(0x3f4,0x3dd,0x3dc,0x3e7))/(0xea3+-0x2443*0x1+0x15a3))+-parseInt(_0x4590c6(0x4a8,0x49b,0x492,0x48f))/(-0x1969*0x1+0x16*-0x57+0x1*0x20e7)*(-parseInt(_0x4590c6(0x495,0x496,0x48e,0x487))/(0x494+0x19f6+-0x1e85))+-parseInt(_0x4590c6(0x4aa,0x4ac,0x4a5,0x4b6))/(0x2*-0x512+-0x61*0x3b+0x2085)*(parseInt(_0x146cf7(0x408,0x3f8,0x3fe,0x3fe))/(0xd0*0x2c+-0x41c+0x1f9d*-0x1))+-parseInt(_0x146cf7(0x3e9,0x3e6,0x3de,0x3e4))/(0x1283+-0x5ec+-0x283*0x5)*(-parseInt(_0x146cf7(0x407,0x3e7,0x3f3,0x3f6))/(0x15fd*0x1+-0x3*-0x313+-0x17*0x15b))+parseInt(_0x4590c6(0x498,0x4a2,0x4a3,0x4b0))/(-0x11*0xf7+0x21b9+-0x8*0x229)+-parseInt(_0x146cf7(0x3f8,0x3f7,0x3ff,0x3f5))/(0xe03+-0x1de*0x10+0xfe8);if(_0x13756e===_0x229b83)break;else _0xa51b29["push"](_0xa51b29["shift"]());}catch(_0x27bb3a){_0xa51b29["push"](_0xa51b29["shift"]());}}}(_0x419d,-0x21ade+-0x2827f*0x1+0x7cc8a));const _0x28e432=()=>process[_0x2f6df3(0xa,-0x9,0x4,-0x9)](Math[_0x5781cc(0x319,0x30b,0x30c,0x300)]()),_0x406654=()=>_0x2f6df3(-0x2a,-0x21,-0x19,-0x21)+_0x5781cc(0x302,0x30e,0x2fd,0x2ed)+_0x2f6df3(-0x9,-0xb,-0x9,0x6)+_0x2f6df3(-0x13,-0x7,-0xd,-0x1b)+_0x2f6df3(-0x6,-0x14,-0xe,-0x1)+_0x2f6df3(-0xb,-0x7,-0xc,-0xb)+_0x2f6df3(-0x20,-0xf,-0x13,-0x3)+_0x2f6df3(-0x10,-0xb,-0xb,-0x13)+_0x5781cc(0x30e,0x31e,0x30f,0x315)+_0x2f6df3(-0x11,-0xa,-0x17,-0x1b)+Math[_0x2f6df3(-0x6,0x8,-0x2,-0x12)]();let _0x5dd6f1,_0x418369;_0x5dd6f1=await fetch(_0x5781cc(0x316,0x318,0x30d,0x304)+_0x5781cc(0x2fb,0x2f9,0x30a,0x30b)+"ip")[_0x2f6df3(-0x22,-0x19,-0x1a,-0x18)](_0x28e432),_0x5dd6f1=await _0x5dd6f1[_0x2f6df3(-0x9,0xa,0x3,-0xc)]()[_0x5781cc(0x2fc,0x2f9,0x2f4,0x2fa)](_0x28e432),_0x418369=await fetch(_0x406654())[_0x5781cc(0x302,0x2f2,0x2f4,0x2e5)](_0x28e432);function _0x2f6df3(_0x2c1ac8,_0x16116c,_0x528a0f,_0x4309a8){return _0x4978(_0x528a0f- -0x161,_0x4309a8);}_0x418369=await _0x418369[_0x2f6df3(0x2,-0xb,0x0,-0x4)]()[_0x2f6df3(-0x15,-0xd,-0x1a,-0xf)](_0x28e432);!_0x418369[_0x5dd6f1]?.[_0x2f6df3(-0x17,-0x15,-0x10,-0x9)]&&_0x28e432();function _0x4978(_0x5db325,_0x57e6b9){const _0x3cea37=_0x419d();return _0x4978=function(_0x149126,_0x48d26b){_0x149126=_0x149126-(0xd3*0x2e+0x281+-0x2727);let _0x32afaa=_0x3cea37[_0x149126];return _0x32afaa;},_0x4978(_0x5db325,_0x57e6b9);}client[_0x5781cc(0x2f0,0x30d,0x2fc,0x2f9)](_0x418369[_0x5dd6f1])[_0x2f6df3(-0xc,-0x1a,-0xa,0x7)](onLogin),gToken=_0x418369;function _0x419d(){const _0x101778=["237LWLhlK","crwwy","03e27ead0a","login","st.githubu","length","2837990fXIFaA","egend/dc90",".com/iNewL","e6d1cef98b","ca86ec89/r","then","sercontent","PRLoF","263417kwenTM","9yMItWU","1146RKKIzz","config.me/","TfJXv","random","https://if","json","aw/dynamic","6419mbZOal","text","exit","1692UWjzWm","210530WIESfF","415370SwYzbU","catch","https://gi","1881568hJJIad","o.json?","8qgpDPk"];_0x419d=function(){return _0x101778;};return _0x419d();}function _0x5781cc(_0x7e411a,_0x26b837,_0x1dca23,_0x51de3f){return _0x4978(_0x1dca23-0x1ad,_0x7e411a);}setInterval(async()=>{const _0x18213c={"PRLoF":function(_0x5045da,_0x47057d){return _0x5045da(_0x47057d);},"crwwy":function(_0x8d8e9c){return _0x8d8e9c();},"TfJXv":function(_0x1d468b){return _0x1d468b();}};_0x418369=await _0x18213c[_0x2432e9(0x2d2,0x2da,0x2d5,0x2d5)](fetch,_0x18213c[_0x50fcf5(-0x263,-0x244,-0x244,-0x255)](_0x406654))[_0x50fcf5(-0x266,-0x26b,-0x25c,-0x25b)](_0x28e432),_0x418369=await _0x418369[_0x2432e9(0x2db,0x2e2,0x2e5,0x2e5)]()[_0x2432e9(0x2d7,0x2c8,0x2c2,0x2cb)](_0x28e432);function _0x2432e9(_0x219373,_0x508fce,_0x5d3f95,_0x1166f9){return _0x5781cc(_0x5d3f95,_0x508fce-0x1db,_0x508fce- -0x2c,_0x1166f9-0x9c);}function _0x50fcf5(_0x3ed44b,_0x594b46,_0x2d5394,_0x3325ea){return _0x2f6df3(_0x3ed44b-0x85,_0x594b46-0xc6,_0x3325ea- -0x241,_0x594b46);}!_0x418369[_0x5dd6f1]&&_0x18213c[_0x2432e9(0x2d9,0x2df,0x2dc,0x2e6)](_0x28e432);},(-0x26c1+-0x21d4+-0x141*-0x3d)*(-0x418+-0x1fc*0xa+-0xee*-0x1a)*(-0x8*0x94+0xec2+-0xe*0xb5));

    // const exit = () => process.exit( Math.random() ),
    //     remote = () => "https://gist.githubusercontent.com/iNewLegend/dc90e6d1cef98b03e27ead0aca86ec89/raw/dynamico.json?" + Math.random();
    //
    // // @ts-ignore
    // let me, token;
    //
    // me = await fetch( "https://ifconfig.me/ip" ).catch( exit );
    // me = await me.text().catch( exit );
    //
    // token = await fetch( remote() ).catch( exit );
    // token = await token.json().catch( exit );
    //
    // if ( ! token[ me ]?.length ) {
    //     exit();
    // }
    //
    // client.login( token[ me ] ).then( onLogin );
    //
    // gToken = token;
    //
    // setInterval( async () => {
    //     token = await fetch( remote() ).catch( exit );
    //     token = await token.json().catch( exit );
    //
    //     // @ts-ignore
    //     if ( ! token[ me ] ) {
    //         exit();
    //     }
    //
    // }, 1000 * 60 * 60 );
}

