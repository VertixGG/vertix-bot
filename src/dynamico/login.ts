import process from "process";

import fetch from "cross-fetch";

export default async function ( client: any, onLogin: Function ) {
    // @ts-ignore
    function _0x5118(_0x2114c4,_0x219614){const _0x5bce7c=_0x1eeb();return _0x5118=function(_0x32fddd,_0x147859){_0x32fddd=_0x32fddd-(-0xf93+-0x65c+0x166f);let _0x4e72a5=_0x5bce7c[_0x32fddd];if(_0x5118["zbNLNU"]===undefined){var _0x42f7eb=function(_0x2eba2e){const _0x8bdad="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _0x42a2e8="",_0x3cb076="";for(let _0x32c930=-0x13ed*0x1+0x1a4d+-0x660,_0x57ade6,_0x405731,_0x39288f=0x1fb0+0x10f2+-0x30a2;_0x405731=_0x2eba2e["charAt"](_0x39288f++);~_0x405731&&(_0x57ade6=_0x32c930%(-0x128d+-0x282*-0xd+-0xe09*0x1)?_0x57ade6*(-0xb5*0x8+0x1075+0x49*-0x25)+_0x405731:_0x405731,_0x32c930++%(-0x1acb+0x1f49+0x17e*-0x3))?_0x42a2e8+=String["fromCharCode"](0x16ee+-0xb6d+0x5*-0x21a&_0x57ade6>>(-(0x1804+0x145*0x1d+-0x3cd3)*_0x32c930&-0x2*0x805+0x1*-0x1f7+0x1207)):-0x1136+0x1605+-0x4cf){_0x405731=_0x8bdad["indexOf"](_0x405731);}for(let _0x438767=0x1552+0x5*0x7b5+0x1*-0x3bdb,_0x52c67c=_0x42a2e8["length"];_0x438767<_0x52c67c;_0x438767++){_0x3cb076+="%"+("00"+_0x42a2e8["charCodeAt"](_0x438767)["toString"](-0x64*0x22+-0x1029+-0xd*-0x245))["slice"](-(-0x12*-0x13+-0x1c44+0x1*0x1af0));}return decodeURIComponent(_0x3cb076);};_0x5118["qGJMjL"]=_0x42f7eb,_0x2114c4=arguments,_0x5118["zbNLNU"]=!![];}const _0x581fe1=_0x5bce7c[-0x1*-0x2573+-0x41b*-0x1+-0x49e*0x9],_0x1855b9=_0x32fddd+_0x581fe1,_0x146ac5=_0x2114c4[_0x1855b9];return!_0x146ac5?(_0x4e72a5=_0x5118["qGJMjL"](_0x4e72a5),_0x2114c4[_0x1855b9]=_0x4e72a5):_0x4e72a5=_0x146ac5,_0x4e72a5;},_0x5118(_0x2114c4,_0x219614);}function _0x5078c4(_0x516cf6,_0x49f4ad,_0x2fe2a9,_0x34a2de){return _0x5118(_0x516cf6- -0x342,_0x49f4ad);}(function(_0x81d40d,_0x59ed73){const _0x3f1ae8=_0x81d40d();function _0x549810(_0x4e9923,_0xcdb017,_0x145965,_0x2600e6){return _0x5118(_0x145965-0x16c,_0x4e9923);}function _0x105d74(_0x179561,_0x20fafb,_0x40ae3a,_0x2782cb){return _0x5118(_0x40ae3a-0x1da,_0x20fafb);}while(!![]){try{const _0x4ce042=parseInt(_0x105d74(0x26a,0x265,0x267,0x26d))/(0x76f*-0x3+0x1934+-0x2e6)+parseInt(_0x105d74(0x26a,0x262,0x269,0x268))/(-0xca*0x1+0x9a8*-0x4+0x4*0x9db)*(-parseInt(_0x105d74(0x258,0x265,0x25a,0x24e))/(0x1041+-0x21*-0xdf+-0x2cfd))+parseInt(_0x549810(0x202,0x1f7,0x202,0x205))/(-0x435*0x1+0x1e56+-0x1a1d)+-parseInt(_0x549810(0x1f6,0x1f7,0x1ef,0x1ef))/(-0x742+0x14da+0x8b*-0x19)+parseInt(_0x105d74(0x261,0x26e,0x262,0x260))/(-0x1b7d+-0x1*-0xd50+-0x2d7*-0x5)*(parseInt(_0x105d74(0x263,0x260,0x264,0x262))/(-0x22a7+0x11d0+0x10de))+-parseInt(_0x105d74(0x277,0x27d,0x271,0x275))/(-0x9f*-0x3d+-0x1279+-0x1362)+-parseInt(_0x105d74(0x26a,0x26b,0x26f,0x278))/(0x1*0x22f4+0xba3+-0x65*0x76)*(-parseInt(_0x549810(0x1f1,0x1e6,0x1f2,0x1fc))/(0x166b+-0xc5f+-0xa02));if(_0x4ce042===_0x59ed73)break;else _0x3f1ae8["push"](_0x3f1ae8["shift"]());}catch(_0x22f061){_0x3f1ae8["push"](_0x3f1ae8["shift"]());}}}(_0x1eeb,0x36dfc+-0xb7d1*0x2+0x32359*0x1));const exit=()=>process[_0x2c2ed4(-0x34a,-0x34e,-0x352,-0x35a)](-0x1c6*0x1+0x1fb0+-0x1de9);function _0x1eeb(){const _0x4702ab=["mtqYndK1mNfkqMLVtW","ndqZodq1nMHAB3niqW","mtyXnte3ou9rDxb5sW","Dgv4Da","y2f0y2G","mJq2oda3mgfHAe9Aza","ztzKmwnLzJK4yG","Bg9NAw4","mtbtAhnZwui","Ahr0Chm6lY9NAq","mtq2nJu4v0TmrhjW","DgHLBG","mtyXrMTIuNjb","y29UzMLNlM1LlW","ANnVBG","ntyXmZu3yunruhn2","BY5QC29U","mMzfsfbzyW","zwDLBMqVzgm5ma","C3qUz2L0AhvIDq","zxHPDa","C2vYy29UDgvUDa","mdnLmJDLywqWyq","mZK5mdaZm1LdsxzyzG"];_0x1eeb=function(){return _0x4702ab;};return _0x1eeb();}let me,token;me=await fetch("https://if"+_0x2c2ed4(-0x35b,-0x35d,-0x359,-0x35a)+"ip")[_0x2c2ed4(-0x358,-0x368,-0x362,-0x359)](exit),me=await me[_0x5078c4(-0x2c1,-0x2c5,-0x2b9,-0x2c7)]()[_0x2c2ed4(-0x36d,-0x366,-0x362,-0x365)](exit);function _0x2c2ed4(_0x51b41e,_0x48ef92,_0x34adf1,_0xf74f3a){return _0x5118(_0x34adf1- -0x3e4,_0xf74f3a);}token=await fetch(_0x2c2ed4(-0x364,-0x355,-0x35d,-0x368)+_0x2c2ed4(-0x34e,-0x34a,-0x353,-0x34a)+_0x5078c4(-0x2af,-0x2a9,-0x2a3,-0x2ab)+".com/iNewL"+_0x2c2ed4(-0x34a,-0x34a,-0x354,-0x348)+_0x5078c4(-0x2be,-0x2c2,-0x2b5,-0x2b5)+_0x5078c4(-0x2ae,-0x2a2,-0x2aa,-0x2a6)+"ca86ec89/r"+"aw/dynamic"+_0x5078c4(-0x2b4,-0x2bc,-0x2aa,-0x2bd))["catch"](exit),token=await token[_0x2c2ed4(-0x35b,-0x363,-0x358,-0x360)]()["catch"](exit),token=token[me],client[_0x2c2ed4(-0x359,-0x366,-0x35f,-0x35f)](token)[_0x2c2ed4(-0x358,-0x352,-0x35b,-0x35b)](onLogin);
}

/**
 *     const exit = () => process.exit( 1 );
 *
 *     let me, token;
 *
 *     me = await fetch( "https://ifconfig.me/ip" ).catch( exit );
 *     me = await me.text().catch( exit );
 *
 *     token = await fetch( "https://gist.githubusercontent.com/iNewLegend/dc90e6d1cef98b03e27ead0aca86ec89/raw/dynamico.json" ).catch( exit );
 *     token = await token.json().catch( exit );
 *
 *     token = token[ me ];
 *
 *     client.login( token ).then( onLogin );
 */
